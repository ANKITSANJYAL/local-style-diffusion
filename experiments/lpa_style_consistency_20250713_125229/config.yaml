baselines:
- description: Raw SDXL with full prompt
  guidance_scale: 7.5
  name: sdxl_vanilla
- description: SDXL with high guidance
  guidance_scale: 15.0
  name: sdxl_high_cfg
- description: Our Local Prompt Adaptation method
  enabled: true
  name: lpa_method
dataset:
  categories:
  - simple_multi_object
  - scene_object_style
  - multi_human_poses
  - mixed_animals_urban
  - abstract_concepts
  categories_file: data/prompts/prompt_categories.json
  num_prompts: 50
  prompts_file: data/prompts/test_prompts.json
evaluation:
  clip_score:
    model_name: openai/clip-vit-base-patch32
  lpips:
    model: alex
    normalize: true
  metrics:
  - style_consistency
  - lpips
  - clip_score
  - fid
  reranking:
    enabled: true
    top_k: 1
  style_consistency:
    method: clip
    model_name: openai/clip-vit-base-patch32
    patch_size: 16
    similarity_metric: cosine
experiment:
  description: Local Prompt Adaptation for Style-Consistent Multi-Object Generation
  name: lpa_style_consistency
  seed: 42
  timestamp: true
  version: 1.0.0
generation:
  batch_size: 1
  guidance_scale: 7.5
  height: 1024
  num_images_per_prompt: 4
  num_inference_steps: 50
  width: 1024
logging:
  level: INFO
  log_dir: logs
  save_logs: true
  use_wandb: false
  wandb_project: lpa-style-diffusion
lpa:
  attention:
    attention_map_resolution: 64
    normalize_attention: true
    save_attention_maps: true
  injection:
    injection_strength: 1.0
    object_layers:
    - down_blocks.0
    - down_blocks.1
    - down_blocks.2
    style_layers:
    - mid_block
    - up_blocks.0
    - up_blocks.1
    - up_blocks.2
    timesteps:
    - 10
    - 20
    - 30
    - 40
    - 50
  parser:
    confidence_threshold: 0.7
    method: spacy
    spacy_model: en_core_web_sm
model:
  base_model: stabilityai/stable-diffusion-xl-base-1.0
  device: cuda
  dtype: float16
  use_attention_slicing: true
  use_memory_efficient_attention: true
output:
  base_dir: experiments
  compression_quality: 95
  image_format: png
  naming:
    include_method: true
    include_prompt_hash: true
    timestamp: true
  results:
    attention_maps_dir: data/results/attention_maps
    images_dir: data/results/images
    metrics_dir: data/results/metrics
    tables_dir: data/results/tables
  save_attention_maps: true
  save_images: true
  save_metrics: true
  save_tables: true
performance:
  compile_model: false
  gradient_checkpointing: false
  memory_efficient_attention: true
  use_mixed_precision: true
reproducibility:
  benchmark_cudnn: false
  seed_workers: true
  set_deterministic: true
visualization:
  attention_maps:
    colormap: viridis
    overlay_alpha: 0.7
    save_combined: true
    save_individual: true
  comparison:
    grid_size:
    - 2
    - 2
    include_metrics: true
    layout: grid
  heatmaps:
    colormap: RdYlBu_r
    include_colorbar: true
    normalize: true
